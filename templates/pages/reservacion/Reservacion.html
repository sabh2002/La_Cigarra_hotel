{% extends "MenuPage.html" %}
{% load static %}
{% block title %}Reservacion{% endblock title %}
{% block content %}

{% if request.user.is_staff %}
	<style type="text/css">
		.opt2{
			display: none;
		}
	</style>
{% endif %}

{% if request.user.is_staff %}
	<div class="card p-3">
		<h5 class="card-header">Listado de Reservaciones</h5>
		<div class="table-responsive text-nowrap">
			<div class="card-title d-flex align-items-start justify-content-between">
                <div class="avatar flex-shrink-0">
          
                </div>
                <div class="dropdown">
                    <button class="btn p-0" type="button" id="cardOpt1" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="bx bx-dots-vertical-rounded"></i>
                    </button>
                    <div class="dropdown-menu" aria-labelledby="cardOpt1">
                        <a class="dropdown-item" href="{% url 'reservacion:new_reservacion' %}">Agregar</a>
                    </div>
                </div>
            </div>
			<table id="Reservacion" class="table table-striped table-bordered" style="width:100%">
				<thead>
					<tr>
						<th>Codigo</th>
						<th>F. Reserva</th>
						<th>Estado</th>
						<th>Cliente</th>
						<th>Referencia</th>
						<th>Opciones</th>
					</tr>
				</thead>
				<tbody>
				</tbody>
			</table>
		</div>
	</div>


	<!-- Modal -->
	<div class="modal fade" id="modal_detalle" data-bs-backdrop="static" tabindex="-1" aria-hidden="true" style="display: none;">
		<div class="modal-dialog modal-xl">
			<div class="modal-content">
				<div class="card p-3">
					<h3>Detalles de la Reservaci√≥n</h3>
					<table id="detalle_reservacion" class="table table-striped table-bordered" style="width:100%">
						<thead>
							<tr>
								<th>Codigo</th>
								<th>F. Llegada</th>
								<th>F. Salida</th>
								<th>Habitacion</th>
								<th>Cantidad $</th>
								<th>Cantidad BS</th>
							</tr>
						</thead>
						<tbody>
						</tbody>
					</table>
					<br>
					<h3 class="mt-3">Detalles de Compras</h3>
					<table id="detalle_compras" class="table table-striped table-bordered" style="width:100%">
						<thead>
							<tr>
								<th>Producto</th>
								<th>Precio</th>
								<th>Cantidad</th>
								<th>Total $</th>
							</tr>
						</thead>
						<tbody>
						</tbody>
					</table>
					<div class="modal-footer mt-3">
						<button type="button" class="btn btn-outline-secondary" onclick="cerrar_modal_info();">
							Cerrar
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>


{% else %}
<div class="misc-wrapper">
    <h2 class="mb-2 mx-2">La p√°gina no Funciona :(</h2>
    <p class="mb-4 mx-2">Oops! üòñ No tienes permiso para ingresar a esta secci√≥n.</p>
    <a href="{% url 'reservacion:menu' %}" class="btn btn-primary">Regresar al Inicio</a>
    <div class="mt-3">
        <img
            src="{% static 'MenuBase/img/error_page.png' %}"
            alt="page-misc-error-light"
            width="500"
            class="img-fluid"
        />
    </div>
</div>
{% endif %}

{% endblock content %}
{% block js %}
	<script src="{% static 'MenuBase/js/pages/js_reservaciones.js' %}"></script>
{% endblock js %}